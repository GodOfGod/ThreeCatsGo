import{x as k,r as v,k as b,c as O,y as n,z as l,P as s,O as y,a4 as V,K as S,A as i,H as d,aC as q,ag as _,M as g,L as u}from"./common-DoM3tTau.js";import{i as C,N as w}from"./nav-bar-CzScn_om.js";import{_ as B}from"./index-CTVEOp0v.js";const J={key:0,class:"order-detail-container"},h={class:"title"},z={class:"value"},D={class:"remark"},F={class:"opt-btn"},I=k({__name:"order-detail",setup(L){const x=q(),m=v(),c=v("");b(()=>{const t=x.params;t.id&&N(t.id)});const f=O(()=>{var e;const t=JSON.parse(((e=m.value)==null?void 0:e.questionnaire)??JSON.stringify({}));return Object.keys(t).map(o=>({title:t[o].title,value:t[o].value}))}),N=async t=>{var e;try{const o=await C.get("/question/get_questionnaire_by_id",{params:{id:t}});m.value=o.data;try{const a=JSON.parse(((e=o.data)==null?void 0:e.questionnaire)??JSON.stringify({}));c.value=(a==null?void 0:a.remark)??""}catch(a){console.log("Failed to parse order info:",a)}}catch(o){console.error("Failed to fetch order info:",o)}};return(t,e)=>{const o=_("el-text"),a=_("el-input"),p=_("el-button");return n(),l(y,null,[s(w,{"show-back-icon":!1,title:"订单信息"}),f.value.length?(n(),l("div",J,[(n(!0),l(y,null,V(f.value,r=>(n(),l("div",{class:"detail-item",key:r.title},[i("div",h,g(r.title),1),i("div",z,g(r.value),1)]))),128))])):S("",!0),i("div",D,[s(o,{type:"info",style:{fontSize:"28px"}},{default:d(()=>e[1]||(e[1]=[u("备注")])),_:1}),s(a,{type:"textarea",modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=r=>c.value=r),autosize:{minRows:5}},null,8,["modelValue"])]),i("div",F,[s(p,{type:"primary"},{default:d(()=>e[2]||(e[2]=[u("保存")])),_:1}),s(p,{type:"danger"},{default:d(()=>e[3]||(e[3]=[u("删除")])),_:1}),s(p,{type:"success"},{default:d(()=>e[4]||(e[4]=[u("去修改")])),_:1})])],64)}}}),A=B(I,[["__scopeId","data-v-71bdc6c8"]]);export{A as default};
