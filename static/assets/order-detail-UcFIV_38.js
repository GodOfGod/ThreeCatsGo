import{i as k,N as x}from"./nav-bar-C_ljxWw8.js";/* empty css                  */import{k as V,r as f,f as S,c as b,l as n,m as l,E as a,F as v,W as q,C as O,q as i,z as d,al as B,D as u}from"./common-gXMv56uI.js";import{V as E,S as w,X as C,P as y}from"./elementPlus-Bg1TOGvz.js";import{_ as D}from"./index-D6wk3Emy.js";const F={key:0,class:"order-detail-container"},I={class:"title"},J={class:"value"},h={class:"remark"},z={class:"opt-btn"},L=V({__name:"order-detail",setup(R){const N=B(),m=f(),c=f("");S(()=>{const t=N.params;t.id&&g(t.id)});const _=b(()=>{var e;const t=JSON.parse(((e=m.value)==null?void 0:e.questionnaire)??JSON.stringify({}));return Object.keys(t).map(o=>({title:t[o].title,value:t[o].value}))}),g=async t=>{var e;try{const o=await k.get("/question/get_questionnaire_by_id",{params:{id:t}});m.value=o.data;try{const s=JSON.parse(((e=o.data)==null?void 0:e.questionnaire)??JSON.stringify({}));c.value=(s==null?void 0:s.remark)??""}catch(s){console.log("Failed to parse order info:",s)}}catch(o){console.error("Failed to fetch order info:",o)}};return(t,e)=>{const o=E,s=w,p=C;return n(),l(v,null,[a(x,{"show-back-icon":!1,title:"订单信息"}),_.value.length?(n(),l("div",F,[(n(!0),l(v,null,q(_.value,r=>(n(),l("div",{class:"detail-item",key:r.title},[i("div",I,y(r.title),1),i("div",J,y(r.value),1)]))),128))])):O("",!0),i("div",h,[a(o,{type:"info",style:{fontSize:"28px"}},{default:d(()=>e[1]||(e[1]=[u("备注")])),_:1}),a(s,{type:"textarea",modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=r=>c.value=r),autosize:{minRows:5}},null,8,["modelValue"])]),i("div",z,[a(p,{type:"primary"},{default:d(()=>e[2]||(e[2]=[u("保存")])),_:1}),a(p,{type:"danger"},{default:d(()=>e[3]||(e[3]=[u("删除")])),_:1}),a(p,{type:"success"},{default:d(()=>e[4]||(e[4]=[u("去修改")])),_:1})])],64)}}}),W=D(L,[["__scopeId","data-v-71bdc6c8"]]);export{W as default};
