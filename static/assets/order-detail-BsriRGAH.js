import{g as x,q as v,v as b,h as V,o as n,c as l,a,F as y,n as q,k as O,j as i,w as d,z as S,r as _,t as g,p as u}from"./common-5WyZeT9A.js";import{i as w,N as h}from"./nav-bar-BUb4WQVa.js";import{_ as B}from"./index-C2Dnz2iB.js";const C={key:0,class:"order-detail-container"},F={class:"title"},J={class:"value"},z={class:"remark"},D={class:"opt-btn"},I=x({__name:"order-detail",setup(j){const N=S(),m=v(),c=v("");b(()=>{const t=N.params;t.id&&k(t.id)});const f=V(()=>{var e;const t=JSON.parse(((e=m.value)==null?void 0:e.questionnaire)??JSON.stringify({}));return Object.keys(t).map(o=>({title:t[o].title,value:t[o].value}))}),k=async t=>{var e;try{const o=await w.get("/question/get_questionnaire_by_id",{params:{id:t}});m.value=o.data;try{const s=JSON.parse(((e=o.data)==null?void 0:e.questionnaire)??JSON.stringify({}));c.value=(s==null?void 0:s.remark)??""}catch(s){console.log("Failed to parse order info:",s)}}catch(o){console.error("Failed to fetch order info:",o)}};return(t,e)=>{const o=_("el-text"),s=_("el-input"),p=_("el-button");return n(),l(y,null,[a(h,{"show-back-icon":!1,title:"订单信息"}),f.value.length?(n(),l("div",C,[(n(!0),l(y,null,q(f.value,r=>(n(),l("div",{class:"detail-item",key:r.title},[i("div",F,g(r.title),1),i("div",J,g(r.value),1)]))),128))])):O("",!0),i("div",z,[a(o,{type:"info",style:{fontSize:"28px"}},{default:d(()=>e[1]||(e[1]=[u("备注")])),_:1}),a(s,{type:"textarea",modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=r=>c.value=r),autosize:{minRows:5}},null,8,["modelValue"])]),i("div",D,[a(p,{type:"primary"},{default:d(()=>e[2]||(e[2]=[u("保存")])),_:1}),a(p,{type:"danger"},{default:d(()=>e[3]||(e[3]=[u("删除")])),_:1}),a(p,{type:"success"},{default:d(()=>e[4]||(e[4]=[u("去修改")])),_:1})])],64)}}}),M=B(I,[["__scopeId","data-v-71bdc6c8"]]);export{M as default};
